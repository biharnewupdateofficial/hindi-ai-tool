<!DOCTYPE html>
<html>
<head>
<title>OpenTutor AI</title>
<link rel="stylesheet" href="/static/style.css">
</head>
<body>

<div class="app">
<h2>ğŸ¤– OpenTutor AI</h2>

<div id="chat">
{% for r,m in chats %}
<div class="{{r}}">{{m}}</div>
{% endfor %}
</div>

<div class="input">
<button onclick="mic()">ğŸ¤</button>
<textarea id="q" placeholder="Type or say..."></textarea>
<button onclick="send()">Send</button>
</div>

<p>ğŸ–¼ï¸ Image ke liye likho: <b>image: ek sher jungle me</b></p>

<script>
function send(){
 let q=document.getElementById("q").value;
 fetch("/ask",{
   method:"POST",
   headers:{"Content-Type":"application/json"},
   body:JSON.stringify({question:q})
 }).then(()=>location.reload())
}

function mic(){
 let r=new(window.SpeechRecognition||webkitSpeechRecognition)();
 r.lang="hi-IN";
 r.onresult=e=>document.getElementById("q").value=e.results[0][0].transcript;
 r.start();
}
</script>

</body>
</html>
