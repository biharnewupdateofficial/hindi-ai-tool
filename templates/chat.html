<!DOCTYPE html>
<html>
<head>
    <title>OpenTutor AI</title>
    <style>
        body { background:#0f172a; color:white; font-family:Arial }
        .user { background:#2563eb; padding:10px; margin:5px; border-radius:10px }
        .ai { background:#1e293b; padding:10px; margin:5px; border-radius:10px }
    </style>
</head>
<body>

<h2>ðŸ¤– OpenTutor AI</h2>
<a href="/logout">Logout</a>

<div id="chat"></div>

<textarea id="q" placeholder="Type message..."></textarea>
<button onclick="send()">Send</button>

<script>
function send(){
    let q = document.getElementById("q").value;
    if(!q) return;

    document.getElementById("chat").innerHTML += `<div class="user">${q}</div>`;
    document.getElementById("q").value="";

    fetch("/ask",{
        method:"POST",
        headers:{"Content-Type":"application/json"},
        body:JSON.stringify({question:q})
    })
    .then(r=>r.json())
    .then(d=>{
        document.getElementById("chat").innerHTML += `<div class="ai">${d.answer}</div>`;
    })
}
</script>

</body>
</html>
