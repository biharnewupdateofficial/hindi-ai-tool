<!DOCTYPE html>
<html>
<head>
    <title>OpenTutor AI</title>
    <link rel="stylesheet" href="/static/style.css">
</head>
<body>

<div class="app">
    <div class="header">
        ğŸ¤– OpenTutor AI
        <span style="float:right">
            <a href="/logout" style="color:#22c55e">Logout</a>
        </span>
    </div>

    <!-- ğŸ”¥ Gemini style suggestions -->
    <div class="suggestions">
        <button onclick="quick('Class 10 ka quadratic equation samjhao')">ğŸ“˜ Quadratic Equation</button>
        <button onclick="quick('Bihar ke baare me batao')">ğŸŒ Bihar</button>
        <button onclick="quick('Resume ka format bana do')">ğŸ“„ Resume</button>
        <button onclick="quick('Image banane ke liye prompt likho')">ğŸ–¼ï¸ Image Prompt</button>
    </div>

    <div class="chat-box" id="chat">
        {% for c in chats %}
            <div class="msg {{ c.role }}">
                {{ c.message }}
            </div>
        {% endfor %}
    </div>

    <div class="input-area">
        <textarea id="q" rows="2" placeholder="Apna sawal yahan likhiye..."></textarea>
        <button onclick="send()">Send</button>
    </div>
</div>

<script>
function send(){
    let q = document.getElementById("q");
    if(!q.value.trim()) return;

    fetch("/ask",{
        method:"POST",
        headers:{"Content-Type":"application/json"},
        body:JSON.stringify({question:q.value})
    }).then(()=>location.reload());
}

function quick(text){
    document.getElementById("q").value = text;
    send();
}
</script>

</body>
</html>
